1. как оптимизировать проверки пока не дошло
2. куда можно запилить цикл, если не убирать функцию , пока не дошло, но хотелось бы знать, если цикл тут вообще актуален
